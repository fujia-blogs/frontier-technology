# 架构设计

1. 最常见也是用途最广的方向：基于业务功能的 h5 的可视化搭建场景。

2. 可视化搭建体系是面向产品和运营，对于这些人群大部分场景的业务诉求的出发点基本上都是：我有一个想法（玩法），我需要一个页面来快速支持的想法。

## 搭建能力

1. 实现的能力：

- 丰富的模板，组件玩法满足各种业务场景；
- 易用的可视化编辑器，所见即所得；
- 页面发布能力，支持编辑后页面随时发布上线；
- 稳定性，保障线上项目安全稳定运行。

## 设计

### 需要有丰富的模板、组件玩法满足各种业务场景

1. 编辑系统和组件解偶，组件只需要遵循编辑系统的组织约定, 其具体开发过程和承载的逻辑与编辑系统无关, 支持自由拓展页面组件.

2. 编辑系统与模板采用的前端框架解偶, 在遵循编辑系统约定下, 可以选择不同的前端框架。

### 需要易用的可视化编辑器，所见即所得

1. 可视化编辑器的本质是对页面可变的数据编辑，不同组件，不同模板反映到可视化编辑器上也就是不同的配置项，所以也就需要对不同页面、不同区块定义各自配置数据的数据结构和字段类型。

2. 如何来描述数据结构和类型呢？JSON Schema 是一个不错的选择，如 form-render:

3. form-render: https://xrender.fun/

### 需要有页面发布能力，支持编辑后页面随时发布上线

页面发布能力则需要我们对运营后台编辑数据进行可视化表达。通过 page = fn(view, data) 这样的模式来编译出最终的页面。

### 最重要的是稳定性，保障线上项目安全稳定运行

1. 项目的稳定性是基本核心指标。需要设计一套完善的线上页面稳定性机制和应急方案。

2. **稳定性方案：**

模板：

- 版本控制；
- 发布流程审核管控；
- 页面更新机制；
- 监控；
- 回滚方案。

组件：

- 版本控制；
- 组件更新机制；
- 监控；
- 回滚方案。

## 概念

1. 远程组件

可视化搭建体系，总会出现一些多业务线共用一个组件的场景，如果各业务团队向框架中提供一些私有的展示组件，但是这些组件并不能和框架一起打包，因为框架不能因为某个私有模块的频繁变更而重复构建发布。在这种场景下我们需要一个加载远程异步代码的组件来完成将这些组件加载到框架中。

2. lowcode

低代码开发是可视化应用开发的一种方法。通过低代码开发，不同经验水平的开发人员能够通过图形用户界面，使用**拖放式组件**和**模型驱动逻辑**来创建 Web 和移动应用。

低代码开发平台减轻了非技术开发人员的压力，帮其免去了代码编写工作，同时也为专业开发人员提供了支持，帮助他们提取应用开发过程中的繁琐底层架构与基础设施任务。业务和 IT 部门的开发人员可以在平台中协同，创建、迭代和发布应用，而所需时间只是传统方法的一小部分。

3. 页面模板和全局组件

页面模板是对同一类型页面的抽象，可以通过模板来衍生出各种形式的页面，模板中可以涵盖各种类型的组件，我们称这些组件为模板组件，模板组件是无法进行跨模板共享，只用用于当前页面使用。

全局组件 是远程组件的实现方式，可以用来跨多模板共享。一些通用的模板组件，可以被抽离成一系列全局组件。
