# 代码生成

1. 编辑器是低代码平台一个非常重要的基础设施，而代码生成器是编辑器的引擎，是编辑器做到所见即所得效果的基础。

2. 手写代码的过程是按需的。

## 结构化代码生成法

1. 计算机非常善于读写结构化数据，因为结构化数据没有二义性。DSL 也好、自然语言也罢、甚至包括编程语言，都充斥着各种二义性，需要上下文才能准确解释，计算机很难轻易理解这种形式的数据。

2. 编译器使用组件

架构上：

- 抽象层；
- 实现层；

`任何组件，只要实现了抽象层的方法，以及按需覆盖抽象层里的已有方法之后，编译器就知道如何使用它了。`

3. 平台团队实现内置组件，业务团队负责实现自定义组件。

4. 架构分层：

- 编辑器负责收集开发者的编排结果，并驱动代码生成器生成代码；
- 代码生成器则根据编辑器收集到的原始数据，从工厂中获取“教材”的实例，然后执行 script 函数获得代码；
- “教材”负责描述各个具体组件的代码应该如何生成。
