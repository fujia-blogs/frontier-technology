# 多人协作

## 多人协作的难点

1. 数据实时传输

解决方案：

- websocket;
- webRTC;

**tips：推荐优先选择 WebSocket**。因为 WebSocket 更成熟，服务端实现方案多且完善，它更加适用于一对多广播，相对来说，WebRTC 更适合用于 P2P 传输音像多媒体信息，实现更加复杂。

2. 如何解决冲突？

多人对同一个工程进行编辑，难免会同时对同一个组件的同一个属性做操作，或者是你在改某个组件，而我要把它删除。这样的操作就会产生冲突。

解决方案：

- 可以像 git 那样，标记每个冲突点，然后中断 App 开发的工作，强制要求他们做出抉择；
- **不让冲突出现，** 如何避免冲突呢？建议 CRDT 算法，也就是 Conflict-free Replicated Data Type，无冲突复制数据类型。

3. 实现 CRDT 算法的开源库：

- Yjs
- automerge
- ref-crdts

4. 历史记录管理

## CRDT

1. 目前业界对 CRDT 最成熟的使用是多人协作在线文档。
